<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Request6</title>
    <script src="customer.js"></script>
</head>
<body>
<script>
    var arrListCustomers = []; let i=0;
    function displayMainMenu() {
        let num = parseInt(prompt("1. Add New Customer" + '\n' + "2. Display Information Customer" + '\n' + "3. Edit Information Customer" + '\n' + "4. Delete Customer" + '\n' + "5. Exit"));
        switch (num) {
            case 1:
                addNewCustomer();
                break;
            case 2:
                displayCustomer();
                break;
            case 3:
                editCustomer();
                break;
            case 4:
                deleteCustomer();
                break;
            case 5:
                break;
            default:
                alert("Không có mục này!");
                displayMainMenu();
        }
    }


    function  addNewCustomer() {
        let cus=new Customer();

        let name = prompt("Họ và tên: ");
        // function changeString(name){
        //     name=name.trim();
        //     name=name.toLowerCase();
        //     let array=[];
        //     array=name.split(' ');
        //     let result=""; let word="";
        //     for (let i=0;i<array.length;i++) {
        //         if (array[i]!=="") {
        //             word=array[i].charAt(0).toUpperCase()+array[i].substring(1);
        //             result+=word+" ";
        //         }
        //     }
        //     result=result.trim();
        //     return result;
        // }
        // while (true) {
        //     if (name.length!==0) {
        //         name=changeString(name);
        //         break; }
        //     else {alert("Mời nhập lại họ và tên: "); name = prompt("Họ và tên: "); }}



        let idNumber = prompt("Số CMND: ");
        // function  validateIdNumber(number) {
        //     const tes1 = /^([1-9])\d{8}$/;
        //     const tes2 = /^([1-9])\d{11}$/;
        //     return !(tes1.test(String(number)) === false && tes2.test(String(number)) === false);
        // }
        // while (true) {
        //     if (validateIdNumber(idNumber)===true) break; else {
        //         alert("Mời nhập lại số CMND: ");
        //         idNumber = prompt("Số CMND: ");
        //     }
        // }


        let dateOfBirth = prompt("Ngày tháng năm sinh: ");
        // function validateDate(date) {
        //     const er= /^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d$/;
        //     return er.test(String(date));
        // }
        // while (true) {
        //     if (validateDate(dateOfBirth)===true) break; else {
        //         alert("Mời nhập lại ngày tháng năm sinh! ");
        //         dateOfBirth = prompt("Ngày tháng năm sinh (DD/MM/YYYY): ");
        //     }
        // }


        let email = prompt("Email: ");
        // function validateEmail(email) {
        //     const re = /([a-zA-Z])+@+(([a-zA-Z])+\.)+([com]{3})+$/;
        //     return re.test(String(email).toLowerCase());
        // }
        // while (true) {
        //     if (validateEmail(email)===true) break; else {
        //         alert("Mời nhập lại email!");
        //         email = prompt("Email: ");
        //     }
        // }

        let address = prompt("Địa chỉ: ");
        // while (true) {
        //     if (address.length!==0) {
        //         let subArray= new Array(address.length);
        //         for (let i=0;i<subArray.length;i++) { subArray[i]=address[i]; }
        //         let g=(subArray.join('')).toUpperCase(); let h=(subArray.join('')).toLowerCase();
        //         for (let i=0;i<subArray.length;i++) { if (subArray[0]!==' ') subArray[0]=g[0]; if (subArray[i]===' '&&subArray[i+1]!==' ') subArray[i+1]=g[i+1]; }
        //         for (let i=0;i<subArray.length-1;i++) { if (subArray[i]!==' '&&subArray[i+1]!==' ') subArray[i+1]=h[i+1]; }
        //         for (let i=0;i<subArray.length;i++) { if (subArray[i]===' ') {subArray.splice(i,1); i--;} else break; }
        //         for (let i=0;i<subArray.length;i++) { if (subArray[i]===' '&&subArray[i+1]===' ') {subArray.splice(i,1); i--;} }
        //         address=subArray.join(''); break; }
        //     else {alert("Mời nhập lại địa chỉ: "); address = prompt("Địa chỉ: "); }}



        let customerType = prompt("Loại Customer (Diamond, Platinum, Gold, Silver, Member): ");
        // {let subArray= new Array(customerType.length); let biendem =0;
        //     for (let i=0;i<subArray.length;i++) { subArray[i]=customerType[i]; }
        //     let g=(subArray.join('')).toUpperCase(); let h=(subArray.join('')).toLowerCase();
        //     for (let i=0;i<subArray.length;i++) { if (subArray[i]!==' ') subArray[i]=g[i];}
        //     for (let i=0;i<subArray.length;i++) { if (subArray[i]!==' ') biendem++; if (biendem>=2) subArray[i]=h[i]; }
        //     for (let i=0;i<subArray.length;i++) { if (subArray[i]===' ') {subArray.splice(i,1); i--;}}
        //     customerType=subArray.join('');}
        // while (true) {
        //     if (customerType === 'Diamond' || customerType === 'Platinum' || customerType === 'Gold' || customerType === 'Silver' || customerType === 'Member')
        //         break;
        //     else {
        //         alert("Mời nhập lại loại Customer (Diamond, Platinum, Gold, Silver, Member): ");
        //         customerType = prompt("Loại Customer (Diamond, Platinum, Gold, Silver, Member): ");
        //     }
        // }



        let discount = parseInt(prompt("Giảm giá (%): "));
        // while (true) {
        //
        //     if (discount > 0 && !isNaN(discount) && discount <= 100) break;
        //     else {
        //         alert("Mời nhập lại giảm giá (%): ");
        //         discount = parseInt(prompt("Giảm giá (%): "));
        //     }
        // }


        let extra = parseInt(prompt("Số lượng đi kèm: "));
        // while (true) {
        //
        //     if (extra > 0 && !isNaN(extra)) break;
        //     else {
        //         alert("Mời nhập lại số lượng đi kèm: ");
        //         numEx = '';
        //         extra = parseInt(prompt("Số lượng đi kèm: "));
        //     }
        // }


        let rentDays = parseInt(prompt("Số ngày thuê: "));
        // while (true) {
        //     if (rentDays > 0 && !isNaN(rentDays)) break;
        //     else {
        //         alert("Mời nhập lại số ngày thuê: ");
        //         rentDays = parseInt(prompt("Số ngày thuê: "));
        //     }
        // }


        let serviceType = prompt("Loại dịch vụ (Villa, House, Room): ");
        // {let subArray= new Array(serviceType.length); let biendem =0;
        //     for (let i=0;i<subArray.length;i++) { subArray[i]=serviceType[i]; }
        //     let g=(subArray.join('')).toUpperCase(); let h=(subArray.join('')).toLowerCase();
        //     for (let i=0;i<subArray.length;i++) { if (subArray[i]!==' ') subArray[i]=g[i];}
        //     for (let i=0;i<subArray.length;i++) { if (subArray[i]!==' ') biendem++; if (biendem>=2) subArray[i]=h[i]; }
        //     for (let i=0;i<subArray.length;i++) { if (subArray[i]===' ') {subArray.splice(i,1); i--;}}
        //     serviceType=subArray.join('');}
        // while (true) {
        //     if (serviceType === 'Villa' || serviceType === 'House' || serviceType === 'Room' )
        //         break;
        //     else {
        //         alert("Mời nhập lại loại dịch vụ (Villa, House, Room): ");
        //         serviceType = prompt("Loại dịch vụ (Villa, House, Room): ");
        //     }
        // }


        let roomType = prompt("Loại phòng thuê (Vip, Business,  Normal): ");
        // {let subArray= new Array(roomType.length); let biendem =0;
        //     for (let i=0;i<subArray.length;i++) { subArray[i]=roomType[i]; }
        //     let g=(subArray.join('')).toUpperCase(); let h=(subArray.join('')).toLowerCase();
        //     for (let i=0;i<subArray.length;i++) { if (subArray[i]!==' ') subArray[i]=g[i];}
        //     for (let i=0;i<subArray.length;i++) { if (subArray[i]!==' ') biendem++; if (biendem>=2) subArray[i]=h[i]; }
        //     for (let i=0;i<subArray.length;i++) { if (subArray[i]===' ') {subArray.splice(i,1); i--;}}
        //     roomType=subArray.join('');}
        // while (true) {
        //     if (roomType === 'Vip' || roomType === 'Business' || roomType === 'Normal' )
        //         break;
        //     else {
        //         alert("Mời nhập lại loại phòng thuê (Vip, Business,  Normal): ");
        //         customerType = prompt("Loại phòng thuê (Vip, Business,  Normal): ");
        //     }
        // }
        cus.setName(name);
        cus.setID(idNumber);
        cus.setDoB(dateOfBirth);
        cus.setEmail(email);
        cus.setAdress(address);
        cus.setCustomerType(customerType);
        cus.setDiscount(discount);
        cus.setExtra(extra);
        cus.setRentDays(rentDays);
        cus.setServiceType(serviceType);
        cus.setRoomType(roomType);
        arrListCustomers.push(cus);
        alert("Thêm thành công!");
        displayMainMenu();
    }

    function displayCustomer() {

        let sum=''; let tong='';
        for (let j=0;j<arrListCustomers.length;j++) sum+=(j+1)+'. '+arrListCustomers[j].getName()+'\n';
        let choose = parseInt(prompt(sum));
        let realChoose=choose-1;
        // if (choose>=1&&choose<arrListCustomers.length) {
           tong='1'+arrListCustomers[realChoose].getName()+'2'+arrListCustomers[realChoose].getID()+'3'+arrListCustomers[realChoose].getDoB();
            alert(tong); }
        // else alert('Không có khách hàng này!');
        displayMainMenu();
    }



    displayMainMenu();

</script>
</body>
</html>